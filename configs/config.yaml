server:
  http_port: 8080
  read_timeout: 30s
  write_timeout: 30s

ingest:
  max_batch_size: 1000
  max_payload_size: 10485760  # 10MB

queue:
  size: 100000
  overflow_policy: reject

validation:
  max_event_age: 168h     # 7 days
  max_future: 5m
  strict_mode: true

auth:
  api_key_header: X-API-Key
  enabled: false
  # api_keys:
  #   - sk_test_development

logging:
  level: info
  format: json

# Storage configuration
# Set storage.enabled to true and configure ClickHouse to persist events
storage:
  enabled: false  # Set to true when ClickHouse is available
  clickhouse:
    hosts:
      - "localhost:9000"
    database: siem
    username: default
    password: ""
    max_open_conns: 10
    max_idle_conns: 5
    conn_max_lifetime: 1h
    tls_enabled: false
    dial_timeout: 10s
  batch_writer:
    batch_size: 1000
    flush_interval: 5s
    max_retries: 3
    retry_delay: 1s

# Consumer configuration
consumer:
  workers: 4
  poll_interval: 10ms
  shutdown_wait: 30s
